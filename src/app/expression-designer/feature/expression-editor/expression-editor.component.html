<div class="content-area">
    <div #visualizator class="visual-view" contenteditable="true" (keydown)="onKeyDown($event)" (keyup)="onKeyUp($event)" (paste)="onPaste($event)" (mouseup)="onMouseUp($event)" (focus)="onFocus($event)">
        <pre *ngFor="let item of formulaDisplayElements" [ngClass]="item.generateVisualizatorStyleClass()">{{item.content}}</pre>
    </div>
    <!--<app-expression-command-line *ngIf="isCommandLineVisible" ngClass="command-line" [style.left.px]="cursorX" [style.top.px]="cursorY - 3" [command]="commandLineCommand" ></app-expression-command-line>-->
    <div *ngIf="isComplexListVisible" class="complex-list" [style]='getComplexLineStyle()'>
        <ng-container *ngIf="complexList == null || !complexList.length">
            <div class="loading">
                Loading...
            </div>
        </ng-container>
        <ng-container *ngIf="complexList != null && complexList.length">
            <div *ngFor="let item of complexList" [ngClass]="getComplexListItemClass(item)" (mouseover)="onMouseOverComplexItem(item)" (click)="onComplexItemSelect(item)">{{item.title}}</div>
        </ng-container>
    </div>
    <div #elementsLog></div>
</div>
<div>
    <p>{{isComplexListVisible}}</p>
    <p>Index: {{cursorIndex}}</p>
    <p>{{cursorX}} / {{cursorY}}</p>
</div>
